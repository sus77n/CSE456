<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="${student.studentId} != null ? 'Edit Student' : 'Add Student'"></title>
</head>
<body>
<div class="container mt-4">
    <h2 th:text="${student.studentId} != null ? 'Edit Student' : 'Add Student'"></h2>

    <form th:action="@{/students/save}" th:object="${student}" method="post" >
        <input type="hidden" th:field="*{studentId}">

        <div>
            <label>Name</label>
            <input type="text" th:field="*{name}" required>
        </div>

        <div>
            <label>Year of Birth</label>
            <input type="number" th:field="*{yearOfBirth}" required>
        </div>

        <div>
            <label>GPA</label>
            <input type="number" step="0.01" th:field="*{gpa}" required>
        </div>

        <div>
            <label>Major</label>
            <select th:field="*{majorId}">
                <option value="-1">-- Select Major --</option>
                <option th:each="major : ${majors}"
                        th:value="${major.id}"
                        th:text="${major.majorName}"
                        th:selected="${student.major != null} ? ${student.major.id == major.id} : false">
                </option>
            </select>
        </div>

        <button type="submit" th:text="${student.studentId} != null ? 'Update' : 'Save'"></button>
        <a th:href="@{/students}" >Cancel</a>
    </form>
</div>
</body>
</html>